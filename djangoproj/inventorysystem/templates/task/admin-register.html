{% extends 'task/home.html' %}
{% load static %}

{% block content %}
<title>Add Department Account</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
    integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="{% static 'css/dept-register.css' %}">

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>


<style>
    .content {
        max-width: 80%;
        margin: auto;
    }

    .column {
        padding-top: 2em;
    }

    img {
        padding-top: 50px;
        height: 100%;
        width: 100%;
    }

    #checkbox {
        padding-top: 10px;
        padding-left: 45px;
    }
</style>

<section class="home-section">
    <nav>
        <div class="sidebar-button">
            <i class='bx bx-menu sidebarBtn'></i>
            <div>
                <label style="padding-top: 10px;">
                    <h3>Add Admin Account</h3>
                </label>
            </div>
        </div>
    </nav>

    <div class="container home-content content">
        {% for message in messages %}
        {% if message.tags == 'warning' %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert" style="padding-top: 5px;">
            <strong>{{ form.errors }}</strong>
        </div>
        {% elif message.tags == 'success' %}
        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
        <script>
            var m = "{{ message }}";
            swal("Account added! ", m, "success")
        </script>
        {% endif %}
        {% endfor %}

        <div class="container">
            <div class="row">
                <div class="column" style="float: left;">
                    <form action="" method="post">
                        {% csrf_token %}
                        <br>
                        <h3>Admin User Registration</h3>

                        <div class="input-field">
                            <i class="fas fa-user"></i>
                            {{form.username}}
                        </div>
                        <div class="input-field">
                            <i class="fa-solid fa-at"></i>
                            {{form.email}}
                        </div>

                        <div class="input-field">
                            <i class="fas fa-lock"></i>
                            {{form.password1}}
                        </div>

                        <div class="input-field">
                            <i class="fa-solid fa-rotate-right"></i>
                            {{form.password2}}
                        </div>

                        {{form.adminRole}}

                        <div class="col-12" align="center">
                            <input type="checkbox" onclick="myFunction()" class="custom-control-input"
                                id="customControlInline">
                            <label class="custom-control-label" for="customControlInline">Show password</label>
                        </div>
                        <br>
                        <input type="submit" class="btn" value="Register">
                    </form>
                </div>
                <div class="column">
                    <div class="container" align="center">
                        <img src="{% static 'img/add-user.svg' %}" alt="add-admin-user">
                    </div>
                </div>
            </div>
        </div>
        <br><br>
    </div>


    <script type="text/javascript">
        function myFunction() {
            var x = document.getElementById("regpass");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }

    </script>

</section>


{% endblock %}